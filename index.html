<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SKF 5S</title>
  <link rel="manifest" href="manifest.json"/>
  <link rel="icon" href="assets/skf-logo.png"/>
  <link rel="stylesheet" href="style.css"/>
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script defer src="app.js"></script>
</head>
<body data-page="home">
  <!-- Topbar -->
  <header class="topbar">
    <div class="brand">
      <img src="assets/skf-logo.png" alt="SKF" class="brand-logo"/>
      <span class="brand-text">
        <span class="skf">SKF</span> <span class="s5s">5S</span>
      </span>
    </div>

    <div class="topbar-actions">
      <button id="lockBtn" class="lock-btn" aria-label="Impostazioni canale/PIN" title="Impostazioni">
        ðŸ”’
      </button>
      <a class="cta" href="checklist.html">
        <span>Vai alla checklist</span>
        <span class="arrow">â†’</span>
      </a>
    </div>
  </header>

  <main class="container">
    <section class="card hero-card">
      <div class="hero-img-wrap">
        <img src="assets/5s-hero.png" class="hero-5s" alt="5S"/>
      </div>
      <h2 class="section-title">Cosa Ã¨ 5S</h2>
      <ul class="what5s">
        <li><b class="pill s1">1S Selezionare</b> â€” Eliminare il superfluo.</li>
        <li><b class="pill s2">2S Sistemare</b> â€” Un posto per tutto e tutto al suo posto.</li>
        <li><b class="pill s3">3S Splendere</b> â€” Pulire e prevenire lo sporco.</li>
        <li><b class="pill s4">4S Standardizzare</b> â€” Regole e segnali chiari.</li>
        <li><b class="pill s5">5S Sostenere</b> â€” Abitudine e miglioramento continuo.</li>
      </ul>
    </section>

    <section class="card">
      <h2 id="chartTitle" class="section-title">Andamento CH 24 â€” (Area)</h2>
      <canvas id="progressChart" height="120"></canvas>

      <div id="lateBtns" class="late-btns"></div>

      <div class="export-row">
        <button id="exportBtn" class="btn primary">Esporta dati per Supervisore (PIN)</button>
      </div>
    </section>
  </main>

  <!-- Dialog PIN / Canale / Cambio PIN -->
  <dialog id="pinDialog" class="modal">
    <form method="dialog" class="modal-box">
      <h3 class="modal-title">Impostazioni</h3>

      <label class="field">
        <span>Canale (CH)</span>
        <input id="channelInput" placeholder="es. CH 24"/>
      </label>

      <label class="field">
        <span>PIN attuale</span>
        <input id="pinInput" type="password" inputmode="numeric" autocomplete="off" placeholder="Inserisci PIN"/>
      </label>

      <details class="change-pin">
        <summary>Cambia PIN</summary>
        <div class="change-pin-grid">
          <label class="field">
            <span>Nuovo PIN</span>
            <input id="newPin1" type="password" inputmode="numeric" autocomplete="off" placeholder="Nuovo PIN"/>
          </label>
          <label class="field">
            <span>Conferma nuovo PIN</span>
            <input id="newPin2" type="password" inputmode="numeric" autocomplete="off" placeholder="Ripeti PIN"/>
          </label>
        </div>
        <p class="hint">Il cambio PIN funziona anche offline (salvato nel dispositivo).</p>
      </details>

      <div class="modal-actions">
        <button id="pinCancel" class="btn">Annulla</button>
        <button id="pinConfirmBtn" class="btn primary">Salva</button>
      </div>
    </form>
  </dialog>
</body>
</html>
